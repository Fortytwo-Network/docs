---
title: "Changelog"
---

<Update label="2025-08-05" description="[PROTOCOL:0.10.0]" tags={["Improved"]}>

### Added
- Startup timeout (180s) to prevent hangs during initialization.
- Detailed startup logs for Swarm and Blockchain readiness.
- New exit codes:
- 10: Startup error
- 11: Startup timeout
- Added delegator address to rpc api

### Changed
- Extended capsule API for making participation decisions

### Fixed
- Readiness check loop now handles shutdowns correctly, avoiding hot loops and high CPU load.
 

</Update>

<Update label="2025-08-04" description="[CAPSULE:0.2.0]" tags={["Improved"]}>

### Added
- Added health check to api
- Added non-blocking metadata request
- Added context length checker to evaluate-participation request
- Added support structured outputs
- Added new ranking schema for v1 ranking
- Implemented Efficient KV Cache Reuse for ranking

</Update>

<Update label="2025-07-16" description="[CAPSULE:0.1.34]" tags={["Improved"]}>
*Improved offline support and startup observability for capsule workers.*

### Added
- Offline mode support for using locally cached models.
- Notification system to confirm successful worker initialization before warm-up.

### Changed
- Adjusted worker initialization sequence for improved launch stability.
 

</Update>

<Update label="2025-07-16" description="[PROTOCOL:0.9.0]" tags={["Improved"]}>
*Improved chain sync robustness and streamlined network module logic.*

### Added
- Async block gap processing to detect and fill missing blockchain data automatically.
- Minor stability improvements for consensus submissions.

### Changed
- Removed relay-specific logic from the network module to simplify architecture.

</Update>

<Update label="2025-07-10" description="[PROTOCOL:0.8.4]" tags={["Fixed"]}>
*Corrected label assignments in the inference metrics output.*


### Fixed
- Corrected label assignments in the inference metrics output.

</Update>

<Update label="2025-07-09" description="[PROTOCOL:0.8.3]" tags={["Added"]}>
*Enhanced observability, RPC efficiency, and improved compatibility for CLI/GUI workflows.*

### Added
- Protocol exit codes for improved error signaling.
- Optimized RPC by implementing raw block polling with bloom filter pre-checks to reduce event overhead.
- Added operational metrics (node state, request tracking).
- Included blockchain-specific metrics.

### Changed
- Updated console time format for improved readability.
- Reintroduced CLI arguments for backward compatibility with CLI and GUI apps.
- Upgraded Rust version to 1.85.0.

### Fixed
- Corrected RPC request handling to ensure proper use of swarm consensus.


</Update>

<Update label="2025-07-03" description="[CAPSULE:0.1.33]" tags={["Added"]}>
*Improved process management with graceful shutdown and defined exit codes.*

### Added
- Graceful shutdown handling for clean termination.
- Defined exit codes for clearer process state signaling and bug reporting.


</Update>

<Update label="2025-07-02" description="[CAPSULE:0.1.32]" tags={["Added"]}>
*Introduced web crawling support and updated Python worker behavior.*

### Added
- Web crawler integration.

### Changed
- Disabled Python worker by default.


</Update>

<Update label="2025-07-01" description="[PROTOCOL:0.8.2]" tags={["Added"]}>
*Introduced robust failover, improved ranking, and overall improvements to networking stability*

### Added
- Implemented polling-based staggered submission for inference resolutions with position-based delays.
- Added initial version of new ranking algorithm.
- Added fallback RPC support with automatic failover and retry layer for improved blockchain connectivity.

### Changed
- Changed blockchain event query error logging from error to warning level since query_events is automatically retried.
- Changed swarm connection loss logging from error to warning level when insufficient peers are available.
- Changed capsule binding address from localhost to 0.0.0.0 to allow access from external clients.
 


</Update>

<Update label="2025-06-25" description="[CAPSULE:0.1.31]" tags={["Improved"]}>
*Dependency upgrade for improved compatibility and performance.*


### Changed
- Updated core dependencies: llama.cpp and ft-tools.
- Upgraded Rust version to 1.85.0.

</Update>

<Update label="2025-06-24" description="[PROTOCOL:0.8.1]" tags={["Added"]}>
*Improved transaction reliability and deadline handling through buffer tuning and multi-bootstrap support.*

### Added
- Introduced support for multiple bootstrap nodes to improve peer connectivity.

### Changed
- Increased blockchain safety buffer and inference submission offset for better transaction stability.


</Update>

<Update label="2025-06-12" description="[PROTOCOL:0.8.0]" tags={["Improved"]}>
*Major networking upgrade with peer discovery, sync improvements, and cleanup of blockchain and log systems.*

### Added
- Introduced /metrics endpoint for Prometheus-based performance analysis.
- Enabled new peer discovery method during node initialization.
- Added node startup synchronization.
- Integrated Identify protocol for peer recognition.
- Forwarded sorted ranking results in HTTP responses.

### Changed
- Renamed 42T token to FOR.
- Updated bootstrap nodes.
- Upgraded Rust toolchain to 1.84.0.

### Fixed
- Reworked network interaction to resolve sync issues.
- Ignored early requests received before node startup completed.
- Cleaned up log to reduce noise.


</Update>

<Update label="2025-05-22" description="[PROTOCOL:0.6.0]" tags={["Improved"]}>
*Introduced new peer discovery method and startup synchronization with major networking and blockchain module updates.*

### Added
- Integrated Kademlia protocol for peer discovery during initialization.
- Implemented node startup synchronization to ensure readiness.
- Added Identify protocol support for recognizing peer nodes.
- Forwarded sorted ranking results included in HTTP response.

### Changed
- Refactored blockchain module to use alloy instead of ethers.

### Fixed
- Resolved bootstrap node initialization issue.
- Ignored incoming requests created before node startup is complete.
 

</Update>

<Update label="2025-05-20" description="[CAPSULE:0.1.27]" tags={["Fixed"]}>
*Fixed warm-up logic to improve LLM readiness at startup.*


### Fixed
- Resolved issues with LLM warm-up during capsule initialization.
 
 

</Update>

<Update label="2025-05-14" description="[CAPSULE:0.1.26]" tags={["Improved"]}>
*Improved development observability.*


### Changed
- Added additional logs for development and debugging purposes.
 
 

</Update>

<Update label="2025-05-12" description="[CAPSULE:0.1.25]" tags={["Improved"]}>
*Switched default tokenizer configuration.*


### Changed
- Changed default tokenizer used for completions.


</Update>

<Update label="2025-05-12" description="[PROTOCOL:0.5.4]" tags={["Added"]}>
*Added request sizing parameter to capsule completions.*

### Added
- Included max_size parameter in the completions request to the capsule for better input control.


</Update>

<Update label="2025-05-09" description="[CAPSULE:0.1.24]" tags={["Improved"]}>
*Added support for reasoning token controls and max output size.*

### Added
- Option to include reasoning tokens in output.
- Parameter to adjust reasoning token count.
- max_size field added to completion requests.
 
 

</Update>

<Update label="2025-05-07" description="[CAPSULE:0.1.23]" tags={["Improved"]}>
*Increased reserved memory to improve runtime reliability.*


### Changed
- Increased default reserved memory allocation.
 
 

</Update>

<Update label="2025-05-07" description="[PROTOCOL:0.5.3]" tags={["Improved"]}>
*Added request size cap to prevent overload in devs request.*

### Added
- max_size field to the /devs request for controlled query sizing.


</Update>

<Update label="2025-05-07" description="[CAPSULE:0.1.22]" tags={["Added"]}>
*Major performance and capability upgrade including dynamic context, GPU offloading, and embeddings truncation.*

### Added
- Embedding truncation for improved memory efficiency.
- Support for using the model's maximum context size.
- Optimized input token decoding for better inference speed.
- Tokenizer object now returned in /metadata.
- Dynamic selection mechanism for context length.
- GPU offloading support for KV cache.

### Changed
- Updated development dependencies.

### Fixed
- Fixed batch prefill logic to improve prompt handling stability.
 

</Update>

<Update label="2025-05-01" description="[PROTOCOL:0.5.2]" tags={["Fixed"]}>
*Made tokenizer ID optional in developer-facing requests.*


### Fixed
- Tokenizer_id in /devs request is now optional, improving support for lightweight queries.
 

</Update>

<Update label="2025-05-01" description="[PROTOCOL:0.5.1]" tags={["Fixed"]}>
*Improved handling for empty tokenizer values in intents.*

### Fixed
- Correctly handles empty tokenizer cases in submitted intents.


</Update>

<Update label="2025-04-30" description="[PROTOCOL:0.5.0]" tags={["Added"]}>
*Major feature release with metadata access, performance estimation, new ranking strategies, and node load balancing.*

### Added
- GET /metadata endpoint for capsules to fetch version, token limits, and tokenizer info.
- Participation now estimates performance limits from capsule metadata.
- New ranking method added that returns a confidence score per candidate.
- Load balancing system introduced to evenly distribute requests across nodes.
- New experimental pairwise ranking algorithm implemented.
- Failsafe added to exit if allowance approval fails at minimum threshold.

</Update>

<Update label="2025-04-30" description="[CAPSULE:0.1.21]" tags={["Added"]}>
*Added support for Qwen3 ARC model and updated dev dependencies.*

### Added
- Added Qwen3 model support.

### Changed
- Updated development dependencies.
 

</Update>

<Update label="2025-04-11" description="[CAPSULE:0.1.20]" tags={["Fixed"]}>
*Improved system prompt and added error handling for model outputs.*


### Changed
- Added handling for empty model output in get_completions response.
- Updated system prompt for better context initialization.
 

</Update>

<Update label="2025-04-11" description="[CAPSULE:0.1.19]" tags={["Fixed"]}>
*Disabled Python execution and introduced structured inputs for participation logic.*


### Changed
- Temporarily disabled Python interpreter.
- Fixed emoji rendering issue in output.
- Added structured input format for evaluate-participation.
 
 

</Update>

<Update label="2025-04-10" description="[PROTOCOL:0.4.0]" tags={["Improved"]}>
*Improved token handling and pre-checks before participation.*

### Added
- Node balance validation before joining a round.
- Auto-approval of 42T token allowance for smoother participation.
 

</Update>

<Update label="2025-04-10" description="[CAPSULE:0.1.18]" tags={["Added"]}>
*Introduced new ranking endpoint and support for structured input.*

### Added
- New /v2/ranking API endpoint.
- Support for structured input objects.

### Changed
- Ranking results are now derived directly from logits.
 
</Update>

<Update label="2025-04-09" description="[CAPSULE:0.1.17]" tags={["Added"]}>
*Introduced a new metadata endpoint and transitioned to mpsc-based streaming.*

### Added
- /metadata endpoint for diagnostics and external tooling.

### Changed
- Replaced Notify/result store with mpsc streaming for improved data flow.


</Update>

<Update label="2025-04-08" description="[CAPSULE:0.1.16]" tags={["Added"]}>
*Extended capabilities with web search, Python execution.*

### Added
- Brave API integration for web search.
- Python execution support.

### Changed
- Updated Rust version to 1.84.0.
 
 

</Update>

<Update label="2025-04-07" description="[PROTOCOL:0.3.2]" tags={["Improved"]}>
*Adjusted participation logic and timing for better request flow.*


### Changed
- Increased max duration for inference join attempts.
- Modified participation probability to retain a proportional number of idle nodes for upcoming requests.
 
 

</Update>

<Update label="2025-04-04" description="[PROTOCOL:0.3.1]" tags={["Improved"]}>
*Improved gas efficiency and fixed retry logic.*


### Fixed
- Patched retry logic covering blockchain context, balances, token approvals, and intent resolution.

### Changed
- Optimized client-side gas consumption.
 
 

</Update>

<Update label="2025-04-04" description="[CAPSULE:0.1.15]" tags={["Improved"]}>
*Performance improvements, private crate support, and prompt tuning.*

### Added
- Support for custom private Rust crates.
- Token generation speed: 97.63% parity with llama.cpp.
- Performance metrics logged in debug output.

### Changed
- Codebase refactor for modularity and readability.
- Updated ranking prompt and generation parameters.
- Updated papaya crate to v0.2.1.
- Separated token-to-text from generation worker.
 
 

</Update>

<Update label="2025-04-02" description="[PROTOCOL:0.3.0]" tags={["Improved"]}>
*Introduced off-chain consensus and automated infrastructure upgrades.*

### Added
- Off-chain consensus layer via P2P.
- Automated deployment pipeline for new releases.

### Changed
- Refactored message queue to ignore certain request messages and prevent storage overhead.
 
 

</Update>

<Update label="2025-03-24" description="[CAPSULE:0.1.14]" tags={["Improved"]}>
*Internal refactor with focus on stability and efficiency.*

### Changed
- Code refactor for maintainability.

### Fixed
- Runtime resource usage.
 


</Update>

<Update label="2025-03-20" description="[CAPSULE:0.1.13]" tags={["Added"]}>
*Feature update with a new embeddings model, flash attention and improved ranking capabilities.*

### Added
- New embeddings model.
- Flash attention for faster processing.
- max_tokens support for ranking requests.

### Changed
- Expanded context window for embeddings.
  ranking logic.

### Fixed
- LLM context window bug.
- General resource optimization.
 

</Update>

<Update label="2025-03-19" description="[CAPSULE:0.1.12]" tags={["Added"]}>
*Enabled model upload cache configuration*

### Added
- Configurable cache location for uploaded models.
 
</Update>

<Update label="2025-03-17" description="[CAPSULE:0.1.11]" tags={["Improved"]}>
*Backend upgrades and CUDA environment improvements.*

- Backend upgrades and CUDA environment improvements.

### Changed
- Upgraded to llama.cpp version b4902.
- Updated Linux CUDA configuration.


</Update>

<Update label="2025-03-13" description="[PROTOCOL:0.2.2]" tags={["Fixed"]}>
*Temporary gas optimizations and threading fix.*


### Changed
- Reduced MAX_PARTICIPATION_AMOUNT from 12 to 7 to lower gas costs.

### Fixed
- Fixed multithreading desync issues in active round processing.
 

</Update>

<Update label="2025-03-12" description="[PROTOCOL:0.2.1]" tags={["Improved"]}>
*Minor runtime adjustment to stabilize startup.*

### Added
- Added delay before initializing BlockchainBridge.

</Update>

<Update label="2025-03-12" description="[PROTOCOL:0.2.0]" tags={["Added"]}>
*Major enhancements to blockchain integration, formatting, and dependencies.*

### Added
- Retry logic for blockchain sync, balances, approvals, and intents via retry_on_error!.
- New u256_frac_mul! macro for precise U256 math.
- Time sync with on-chain deadlines for accurate state validation.

### Changed
- Code formatting improvements via rustfmt.toml.
- Dependency Updates
- Upgraded rand crate from 0.8 → 0.9.0.
- Added semver crate at 1.0.0.


</Update>

<Update label="2025-03-11" description="[PROTOCOL:0.1.33]" tags={["Fixed"]}>
*Ranking module hotfix*


### Fixed
- Optimized mathematical functions in the ranking module.


</Update>

<Update label="2025-03-10" description="[PROTOCOL:0.1.32]" tags={["Fixed"]}>
*Improved swarm stability, fixed reconnection and ranking issues, and enhanced logging.*

### Added
- Implemented forced exit on swarm disconnection to improve network stability.

### Fixed
- Resolved an issue causing failures in swarm reconnection.
- Corrected the ranking algorithm for improved inference accuracy.
- Fixed a bug where ParticipateInInference continued running unexpectedly.

### Changed
- Enhanced log messages for better debugging and clarity.

</Update>

